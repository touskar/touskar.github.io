(function(){var e={7051:function(e,t,n){"use strict";var i=n(3862),a=(n(6699),n(3396)),r=n(7139);const s={style:{display:"block",height:"45px"},id:"bio_selector"},o={id:"nav",style:{"margin-top":"25px","margin-bottom":"40px"}},l={key:0},c=(0,a._)("span",{style:{display:"inline-block",width:"5px"}},null,-1),u={key:1},d={key:2},h=(0,a._)("span",{style:{display:"inline-block",width:"5px"}},null,-1),p={key:3},g={id:"app_view"};function m(e,t,n,i,m,f){const v=(0,a.up)("va-select"),w=(0,a.up)("va-button"),y=(0,a.up)("va-icon"),b=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",s,[(0,a.Wm)(v,{change:f.bioChange(),style:{float:"left","margin-left":"26px",width:"200px"},modelValue:m.bioSelectValue,"onUpdate:modelValue":t[0]||(t[0]=e=>m.bioSelectValue=e),options:m.bioOptions,label:"Biométrie"},null,8,["change","modelValue","options"])]),(0,a._)("div",o,[(0,a.Wm)(w,{style:{float:"left","margin-left":"26px"},outline:"",class:"mr-4 mb-2"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(m.apiKey?.name||"---"),1)])),_:1}),"face"===m.bioSelectValue.value&&m.currentRoute.includes("/")?((0,a.wg)(),(0,a.iD)("span",l,[(0,a.Wm)(w,{color:f.activeIf("/face-search"),onClick:t[1]||(t[1]=e=>f.goto("/face-search")),style:{width:"140px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{style:{display:"inline-block","margin-right":"5px"},name:"mood",color:"white"}),(0,a.Uk)(" "+(0,r.zw)("Rechercher".toUpperCase()),1)])),_:1},8,["color"]),c])):(0,a.kq)("",!0),"face"===m.bioSelectValue.value&&m.currentRoute.includes("/")?((0,a.wg)(),(0,a.iD)("span",u,[(0,a.Wm)(w,{color:f.activeIf("/face-train"),onClick:t[2]||(t[2]=e=>f.goto("/face-train")),style:{width:"140px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{style:{display:"inline-block","margin-right":"5px"},name:"mood",color:"white"}),(0,a.Uk)(" "+(0,r.zw)("Entraîner".toUpperCase()),1)])),_:1},8,["color"])])):(0,a.kq)("",!0),m.isWinForm&&"fingerprint"===m.bioSelectValue.value&&m.currentRoute.includes("fingerprint")?((0,a.wg)(),(0,a.iD)("span",d,[(0,a.Wm)(w,{color:f.activeIf("/fingerprint-search"),onClick:t[3]||(t[3]=e=>f.goto("/fingerprint-search")),style:{width:"140px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{style:{display:"inline-block","margin-right":"5px"},name:"front_hand",color:"white"}),(0,a.Uk)(" "+(0,r.zw)("Rechercher".toUpperCase()),1)])),_:1},8,["color"]),h])):(0,a.kq)("",!0),m.isWinForm&&"fingerprint"===m.bioSelectValue.value&&m.currentRoute.includes("fingerprint")?((0,a.wg)(),(0,a.iD)("span",p,[(0,a.Wm)(w,{color:f.activeIf("/fingerprint-train"),onClick:t[4]||(t[4]=e=>f.goto("/fingerprint-train")),style:{width:"140px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{style:{display:"inline-block","margin-right":"5px"},name:"front_hand",color:"white"}),(0,a.Uk)(" "+(0,r.zw)("Entraîner".toUpperCase()),1)])),_:1},8,["color"])])):(0,a.kq)("",!0)]),(0,a._)("div",g,[(0,a.Wm)(b)])],64)}const f=[{name:([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]][([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]((!0+[])[+!+[]]+(!0+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+([][[]]+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+!+[]]+(!1+[+[]])[([!1]+[][[]])[+!+[]+[+[]]]+(!0+[])[+[]]+(!1+[])[+!+[]]+(!1+[])[!+[]+!+[]]+([!1]+[][[]])[+!+[]+[+[]]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!1+[])[!+[]+!+[]+!+[]]]()[+!+[]+[+[]]]+!1+(!1+[+[]])[([!1]+[][[]])[+!+[]+[+[]]]+(!0+[])[+[]]+(!1+[])[+!+[]]+(!1+[])[!+[]+!+[]]+([!1]+[][[]])[+!+[]+[+[]]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!1+[])[!+[]+!+[]+!+[]]]()[+!+[]+[+[]]])()[([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]+[])[+!+[]+[!+[]+!+[]]]+(+(!+[]+!+[]+!+[]+[+!+[]]))[(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([]+[])[([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]][([][[]]+[])[+!+[]]+(!1+[])[+!+[]]+((+[])[([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]+[])[+!+[]+[+!+[]]]+(!0+[])[!+[]+!+[]+!+[]]]](!+[]+!+[]+!+[]+[!+[]+!+[]])+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!1+[])[!+[]+!+[]]+([][[]]+[])[+[]]+(!1+[])[!+[]+!+[]+!+[]]+(+[!1]+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+!+[]]]+(!1+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]][([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]((!0+[])[+!+[]]+(!0+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+([][[]]+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+!+[]]+(+[!1]+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+!+[]]]+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]][([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]((!0+[])[+!+[]]+(!0+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+([][[]]+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+!+[]]+(+[!1]+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+!+[]]]+(!0+[])[!+[]+!+[]+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!1+[])[+!+[]]+(+(!+[]+!+[]+[+!+[]]+[+!+[]]))[(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([]+[])[([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]][([][[]]+[])[+!+[]]+(!1+[])[+!+[]]+((+[])[([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]+[])[+!+[]+[+!+[]]]+(!0+[])[!+[]+!+[]+!+[]]]](!+[]+!+[]+!+[]+[+!+[]])[+!+[]]+(!0+[])[!+[]+!+[]+!+[]])()([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[(!1+[])[!+[]+!+[]+!+[]]+(!1+[])[!+[]+!+[]]+([!1]+[][[]])[+!+[]+[+[]]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[!+[]+!+[]+!+[]]]((+((+(+!+[]+[+!+[]]+(!0+[])[!+[]+!+[]+!+[]]+[!+[]+!+[]]+[+[]])+[])[+!+[]]+[+[]+[+[]]+[+[]]+[+[]]+[+[]]+[+[]]+[+!+[]]])+[])[!+[]+!+[]]+[+!+[]])+(!1+[])[+!+[]]+(!0+[])[+[]]+(!0+[])[!+[]+!+[]+!+[]])()())[!+[]+!+[]+!+[]+[+[]]]+(!0+[])[+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+[]]+(+(!+[]+!+[]+[+!+[]]+[+!+[]]))[(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([]+[])[([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]][([][[]]+[])[+!+[]]+(!1+[])[+!+[]]+((+[])[([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]+[])[+!+[]+[+!+[]]]+(!0+[])[!+[]+!+[]+!+[]]]](!+[]+!+[]+!+[]+[+!+[]])[+!+[]],value:[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]][([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]((!0+[])[+!+[]]+(!0+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+([][[]]+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+!+[]]+([]+[])[(!1+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!0+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!1+[])[!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]()[+!+[]+[!+[]+!+[]]]+((!0+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]]+[+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[+!+[]]+(+[!1]+[])[+[]]+[!+[]+!+[]+!+[]]+(+[!1]+[])[+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]]+[!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]]+[!+[]+!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[+[]]+(!0+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[+!+[]]+[+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]]+([][[]]+[])[+[]]+([][[]]+[])[+[]]+[!+[]+!+[]+!+[]]+(!1+[])[!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[+[]]+[+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[!+[]+!+[]])[(!1+[])[!+[]+!+[]+!+[]]+(+(!+[]+!+[]+[+!+[]]+[+!+[]]))[(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([]+[])[([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]][([][[]]+[])[+!+[]]+(!1+[])[+!+[]]+((+[])[([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]+[])[+!+[]+[+!+[]]]+(!0+[])[!+[]+!+[]+!+[]]]](!+[]+!+[]+!+[]+[+!+[]])[+!+[]]+(!1+[])[!+[]+!+[]]+([!1]+[][[]])[+!+[]+[+[]]]+(!0+[])[+[]]]((!0+[])[+[]])[([][(!0+[])[!+[]+!+[]+!+[]]+([][[]]+[])[+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([!1]+[][[]])[+!+[]+[+[]]]+(!0+[])[!+[]+!+[]+!+[]]+(!1+[])[!+[]+!+[]+!+[]]]()+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([!1]+[][[]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]](([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]][([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]((!0+[])[+!+[]]+(!0+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+([][[]]+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+!+[]]+(!1+[+[]])[([!1]+[][[]])[+!+[]+[+[]]]+(!0+[])[+[]]+(!1+[])[+!+[]]+(!1+[])[!+[]+!+[]]+([!1]+[][[]])[+!+[]+[+[]]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!1+[])[!+[]+!+[]+!+[]]]()[+!+[]+[+[]]]+!1+(!1+[+[]])[([!1]+[][[]])[+!+[]+[+[]]]+(!0+[])[+[]]+(!1+[])[+!+[]]+(!1+[])[!+[]+!+[]]+([!1]+[][[]])[+!+[]+[+[]]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!1+[])[!+[]+!+[]+!+[]]]()[+!+[]+[+[]]])()[([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]((!1+[+[]])[([!1]+[][[]])[+!+[]+[+[]]]+(!0+[])[+[]]+(!1+[])[+!+[]]+(!1+[])[!+[]+!+[]]+([!1]+[][[]])[+!+[]+[+[]]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!1+[])[!+[]+!+[]+!+[]]]()[+!+[]+[+[]]])+[])[+!+[]])+([]+[])[(!1+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!0+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!1+[])[!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]()[+!+[]+[!+[]+!+[]]])()},{name:(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]][([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]((!0+[])[+!+[]]+(!0+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+([][[]]+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+!+[]]+(+[!1]+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+!+[]]]+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]][([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]((!0+[])[+!+[]]+(!0+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+([][[]]+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+!+[]]+(+[!1]+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+!+[]]]+(!0+[])[!+[]+!+[]+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!1+[])[+!+[]]+(+(!+[]+!+[]+[+!+[]]+[+!+[]]))[(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([]+[])[([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]][([][[]]+[])[+!+[]]+(!1+[])[+!+[]]+((+[])[([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]+[])[+!+[]+[+!+[]]]+(!0+[])[!+[]+!+[]+!+[]]]](!+[]+!+[]+!+[]+[+!+[]])[+!+[]]+(!0+[])[!+[]+!+[]+!+[]])()([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[(!1+[])[!+[]+!+[]+!+[]]+(!1+[])[!+[]+!+[]]+([!1]+[][[]])[+!+[]+[+[]]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[!+[]+!+[]+!+[]]]((+((+(+!+[]+[+!+[]]+(!0+[])[!+[]+!+[]+!+[]]+[!+[]+!+[]]+[+[]])+[])[+!+[]]+[+[]+[+[]]+[+[]]+[+[]]+[+[]]+[+[]]+[+!+[]]])+[])[!+[]+!+[]]+[+!+[]])+(!1+[])[+!+[]]+(!0+[])[+[]]+(!0+[])[!+[]+!+[]+!+[]])()())[!+[]+!+[]+!+[]+[+[]]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!1+[])[+!+[]]+(+[!1]+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+!+[]]]+(+[!1]+[])[+[]]+([][[]]+[])[!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+[]]+(!0+[])[+!+[]],value:[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]][([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]((!0+[])[+!+[]]+(!0+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+([][[]]+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+!+[]]+([]+[])[(!1+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!0+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!1+[])[!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]()[+!+[]+[!+[]+!+[]]]+((!0+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[+!+[]]+[+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]]+([][[]]+[])[+[]]+([][[]]+[])[+[]]+[!+[]+!+[]+!+[]]+(!1+[])[!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[+[]]+[+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]]+[+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[+!+[]]+(+[!1]+[])[+[]]+[!+[]+!+[]+!+[]]+(+[!1]+[])[+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]]+[!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]]+[!+[]+!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!0+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[+[]])[(!1+[])[!+[]+!+[]+!+[]]+(+(!+[]+!+[]+[+!+[]]+[+!+[]]))[(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([]+[])[([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]][([][[]]+[])[+!+[]]+(!1+[])[+!+[]]+((+[])[([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]+[])[+!+[]+[+!+[]]]+(!0+[])[!+[]+!+[]+!+[]]]](!+[]+!+[]+!+[]+[+!+[]])[+!+[]]+(!1+[])[!+[]+!+[]]+([!1]+[][[]])[+!+[]+[+[]]]+(!0+[])[+[]]]((!0+[])[+[]])[([][(!0+[])[!+[]+!+[]+!+[]]+([][[]]+[])[+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([!1]+[][[]])[+!+[]+[+[]]]+(!0+[])[!+[]+!+[]+!+[]]+(!1+[])[!+[]+!+[]+!+[]]]()+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([!1]+[][[]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]](([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]][([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]((!0+[])[+!+[]]+(!0+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+([][[]]+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+!+[]]+(!1+[+[]])[([!1]+[][[]])[+!+[]+[+[]]]+(!0+[])[+[]]+(!1+[])[+!+[]]+(!1+[])[!+[]+!+[]]+([!1]+[][[]])[+!+[]+[+[]]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!1+[])[!+[]+!+[]+!+[]]]()[+!+[]+[+[]]]+!1+(!1+[+[]])[([!1]+[][[]])[+!+[]+[+[]]]+(!0+[])[+[]]+(!1+[])[+!+[]]+(!1+[])[!+[]+!+[]]+([!1]+[][[]])[+!+[]+[+[]]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!1+[])[!+[]+!+[]+!+[]]]()[+!+[]+[+[]]])()[([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]((!1+[+[]])[([!1]+[][[]])[+!+[]+[+[]]]+(!0+[])[+[]]+(!1+[])[+!+[]]+(!1+[])[!+[]+!+[]]+([!1]+[][[]])[+!+[]+[+[]]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!1+[])[!+[]+!+[]+!+[]]]()[+!+[]+[+[]]])+[])[+!+[]])+([]+[])[(!1+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!0+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!1+[])[!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]()[+!+[]+[!+[]+!+[]]])()}];function v(){const e=w("apiKey");return f.find((t=>t.value===e))}function w(e,t=window.location.href){e=e.replace(/[\\[\]]/g,"\\$&");const n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),i=n.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}var y=n(7387),b=n.n(y),x={name:"App",async mounted(){this.checkSignIn()},watch:{$route(e,t){console.log(e,t),this.currentRoute=e.fullPath}},data(){const e=!!window?.chrome?.webview?.hostObjects,t=[{text:"Visage",value:"face"}];return e&&t.push({text:"Emprunt",value:"fingerprint"}),{apiKey:v(),currentRoute:"",isWinForm:e,bioSelectValue:{text:"Visage",value:"face"},bioOldValue:{text:"Visage",value:"face"},bioOptions:t}},methods:{activeIf(e){return this.currentRoute===e?"danger":"primary"},bioChange(){this.bioSelectValue.value!==this.bioOldValue.value&&"face"===this.bioSelectValue.value&&(this.goto("/face-search"),this.bioOldValue=this.bioSelectValue),this.bioSelectValue.value!==this.bioOldValue.value&&"fingerprint"===this.bioSelectValue.value&&(this.goto("/fingerprint-search"),this.bioOldValue=this.bioSelectValue)},checkSignIn(){const e=v();e||(this.$vaToast.init({message:"APiKey Incorrect ou manquant",color:"danger",duration:7e7}),b()("#app").remove())},goto(e){this.$router.push(e)}}},_=n(89);const k=(0,_.Z)(x,[["render",m]]);var C=k,F=n(678),O=n.p+"img/face2.d3676616.png";const P=(0,a._)("img",{style:{width:"100px","margin-bottom":"5px"},src:O},null,-1);function S(e,t,n,i,r,s){const o=(0,a.up)("FaceSearchAttachmentComponent");return(0,a.wg)(),(0,a.iD)(a.HY,null,[P,(0,a.Wm)(o)],64)}const j=e=>((0,a.dD)("data-v-0666891a"),e=e(),(0,a.Cn)(),e),V={class:"container"},U=j((()=>(0,a._)("div",{class:"hello"},"BioMetrex",-1))),T={style:{margin:"10px",_background:"#f9f9f9"},class:"dropzone-container"},B={key:0,style:{margin:"50px"}},W={class:"components"},M=j((()=>(0,a._)("div",{style:{height:"25px"}},null,-1))),D={class:"component",style:{}},A=j((()=>(0,a._)("div",{style:{height:"25px"}},null,-1))),z={class:"component",style:{}},I=j((()=>(0,a._)("div",{style:{height:"25px"}},null,-1))),R={class:"component",style:{}},q=j((()=>(0,a._)("div",{style:{height:"25px"}},null,-1))),L={key:1,style:{margin:"50px"}},$={class:"components"},G={key:2,style:{margin:"50px"}},N=["src"],E={accept:"image/png, image/jpeg",style:{display:"none"},ref:"input",type:"file"},Z={class:"file-selector"},H=["src"],Y={key:1,width:"104px",height:"104px",viewBox:"0 0 104 104",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},K=(0,a.uE)('<defs data-v-0666891a><circle id="path-1" cx="36" cy="36" r="36" data-v-0666891a></circle><filter x="-37.5%" y="-29.2%" width="175.0%" height="175.0%" filterUnits="objectBoundingBox" id="filter-2" data-v-0666891a><feOffset dx="0" dy="6" in="SourceAlpha" result="shadowOffsetOuter1" data-v-0666891a></feOffset><feGaussianBlur stdDeviation="8" in="shadowOffsetOuter1" result="shadowBlurOuter1" data-v-0666891a></feGaussianBlur><feColorMatrix values="0 0 0 0 0.0117647059   0 0 0 0 0.0862745098   0 0 0 0 0.160784314  0 0 0 0.08 0" type="matrix" in="shadowBlurOuter1" result="shadowMatrixOuter1" data-v-0666891a></feColorMatrix><feOffset dx="0" dy="1" in="SourceAlpha" result="shadowOffsetOuter2" data-v-0666891a></feOffset><feGaussianBlur stdDeviation="1" in="shadowOffsetOuter2" result="shadowBlurOuter2" data-v-0666891a></feGaussianBlur><feColorMatrix values="0 0 0 0 0.0117647059   0 0 0 0 0.0862745098   0 0 0 0 0.160784314  0 0 0 0.11 0" type="matrix" in="shadowBlurOuter2" result="shadowMatrixOuter2" data-v-0666891a></feColorMatrix><feMerge data-v-0666891a><feMergeNode in="shadowMatrixOuter1" data-v-0666891a></feMergeNode><feMergeNode in="shadowMatrixOuter2" data-v-0666891a></feMergeNode></feMerge></filter></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-0666891a><g id="Artboard" transform="translate(-460.000000, -125.000000)" data-v-0666891a><g id="Group-4" transform="translate(412.000000, 129.000000)" data-v-0666891a><g id="Group-2" transform="translate(58.000000, 0.000000)" data-v-0666891a><circle id="Oval" fill="#3560FF" opacity="0.100000001" cx="42" cy="42" r="42" data-v-0666891a></circle><g id="Group" transform="translate(6.000000, 6.000000)" data-v-0666891a><g id="Oval" data-v-0666891a><use fill="black" fill-opacity="1" filter="url(#filter-2)" xlink:href="#path-1" data-v-0666891a></use><use fill="#FFFFFF" fill-rule="evenodd" xlink:href="#path-1" data-v-0666891a></use></g><g id="upload-cloud" transform="translate(21.818182, 24.000000)" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" data-v-0666891a><polyline id="Path" stroke="#000000" points="19.6458087 17.3789847 14.3565525 12.0897285 9.06729634 17.3789847" data-v-0666891a></polyline><path d="M14.3565525,12.0897285 L14.3565525,24.1794569" id="Path" stroke="#3560FF" data-v-0666891a></path><path d="M25.6438239,20.7792208 C28.2965835,19.3021499 29.6312816,16.1761528 28.8860265,13.1856562 C28.1407715,10.1951596 25.5052337,8.10125672 22.4838689,8.09921935 L20.8179512,8.09921935 C19.7219904,3.76967373 16.1275086,0.577339516 11.7773112,0.0700384831 C7.42711383,-0.43726255 3.22057026,1.84535014 1.19724759,5.81113853 C-0.826075091,9.77692693 -0.247870665,14.6059952 2.6515151,17.9569414" id="Path" stroke="#3560FF" data-v-0666891a></path><polyline id="Path" stroke="#3560FF" points="19.6458087 17.3789847 14.3565525 12.0897285 9.06729634 17.3789847" data-v-0666891a></polyline></g></g></g></g></g></g>',2),J=[K],Q=(0,a.Uk)(" Ajouter une image pour démarer la recherche "),X=j((()=>(0,a._)("p",{class:"separator",style:{"margin-top":"10px","margin-bottom":"10px"}},[(0,a._)("span",{style:{visibility:"hidden"}},".")],-1))),ee=(0,a.Uk)((0,r.zw)("Choisir")),te=j((()=>(0,a._)("span",{style:{display:"inline-block",width:"5px"}},null,-1))),ne=(0,a.Uk)((0,r.zw)("Arreter"));function ie(e,t,n,i,s,o){const l=(0,a.up)("va-alert"),c=(0,a.up)("va-input"),u=(0,a.up)("va-progress-bar"),d=(0,a.up)("va-list-label"),h=(0,a.up)("va-avatar"),p=(0,a.up)("va-list-item-section"),g=(0,a.up)("va-list-item-label"),m=(0,a.up)("va-icon"),f=(0,a.up)("va-list-item"),v=(0,a.up)("va-list"),w=(0,a.up)("va-button");return(0,a.wg)(),(0,a.iD)("div",V,[U,(0,a._)("div",null,[(0,a._)("div",T,[s.searching?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",B,[(0,a._)("div",W,[(0,a._)("div",null,[(0,a.Wm)(l,{border:"top",class:"mb-4"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Recherche dans la base "+(0,r.zw)(s.subjectCount)+" sujets déja enregistré ",1)])),_:1})]),M,(0,a._)("div",D,[(0,a.Wm)(c,{min:1,max:200,type:"number",modelValue:s.concurrency,"onUpdate:modelValue":t[0]||(t[0]=e=>s.concurrency=e),label:"Nombre de tache en simultané (1-200)"},null,8,["modelValue"])]),A,(0,a._)("div",z,[(0,a.Wm)(c,{min:10,max:100,type:"number",modelValue:s.threshold,"onUpdate:modelValue":t[1]||(t[1]=e=>s.threshold=e),label:"Score minimum à matcher (10-100)"},null,8,["modelValue"])]),I,(0,a._)("div",R,[(0,a.Wm)(c,{min:1,max:100,type:"number",modelValue:s.maxResult,"onUpdate:modelValue":t[2]||(t[2]=e=>s.maxResult=e),label:"Nombre maximum de sujet à matcher  (1-100)"},null,8,["modelValue"])]),q])])),s.searching?((0,a.wg)(),(0,a.iD)("div",L,[(0,a._)("div",$,[(0,a.Wm)(u,{size:"medium",buffer:100,"model-value":o.searchPercent()},null,8,["model-value"])])])):(0,a.kq)("",!0),s.matches.length?((0,a.wg)(),(0,a.iD)("div",G,[(0,a.Wm)(v,{fit:""},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{style:{"text-align":"left","font-size":"25px"}},{default:(0,a.w5)((()=>[(0,a.Uk)(" Concordances ("+(0,r.zw)(s.matches.length)+") ",1)])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.matches,((e,t)=>((0,a.wg)(),(0,a.j4)(f,{key:t},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a._)("img",{src:o.getSubjectPhoto(e)},null,8,N)])),_:2},1024)])),_:2},1024),(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g,{style:{"text-align":"left"}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e.key.toUpperCase()),1)])),_:2},1024),(0,a.Wm)(g,{caption:"",style:{"font-weight":"bold","text-align":"left"}},{default:(0,a.w5)((()=>[(0,a.Uk)(" score: "+(0,r.zw)(e.score.toFixed(2)),1)])),_:2},1024)])),_:2},1024),(0,a.Wm)(p,{icon:""},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{onClick:t=>o.openImage(o.getSubjectPhoto(e)),name:"remove_red_eye",color:"gray"},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])):(0,a.kq)("",!0),(0,a._)("input",E,null,512),(0,a._)("div",{onClick:t[4]||(t[4]=(...e)=>o.selectFolder&&o.selectFolder(...e))},[(0,a._)("div",Z,[(0,a._)("figure",null,[s.searching?((0,a.wg)(),(0,a.iD)("img",{key:0,style:{"border-radius":"80px",border:"4px solid #e2e7f7",margin:"20px",width:"120px",height:"120px"},src:s.searchBlobUrl},null,8,H)):(0,a.kq)("",!0),s.searching?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("svg",Y,J))]),Q,X,(0,a.Wm)(w,{disabled:s.searching,color:"primary",style:{width:"140px"}},{default:(0,a.w5)((()=>[ee])),_:1},8,["disabled"]),te,(0,a.Wm)(w,{onClick:t[3]||(t[3]=e=>o.stopSearch()),disabled:!s.searching,color:"primary",style:{width:"140px"}},{default:(0,a.w5)((()=>[ne])),_:1},8,["disabled"])])])])])])}var ae=n(166),re=n(7603);const se=new re.ZP("biometrex_face");async function oe(){return await se.subjects.count()}async function le(){await se.subjects.clear(),console.log("delete existing")}async function ce(){return se.table("subjects").toArray()}async function ue(e,t){const n=await se.subjects.where("key").equals(e).first();n?(console.log("save face for subject",t),await se.subjects.update(n.id,{faceDescription:n.faceDescription.concat(t)})):console.warn("try to set face data to unexisted record")}async function de(e,t,n){console.log("init for ",e,n);const i=await se.subjects.where("key").equals(e).first(),a=t.map((e=>new Blob([e],{type:e.type})));i&&"override"!==n?(console.log("exist, strategy",n,i),await se.subjects.update(i.id,{personFiles:i.personFiles.concat(a)})):(i&&(console.log("exist, strategy",n,i),await se.subjects.where("key").equals(e).delete(),console.log("delete existing")),console.log("no exist, strategy"),await se.subjects.add({key:e,personFiles:a,faceDescription:[]}),console.log("added"))}se.version(1).stores({subjects:"++id, key"});const he=n(3233),pe="/models";var ge={name:"FaceSearchAttachmentComponent",data(){return{$directory:"",eventInit:!1,searching:!1,searchBlobUrl:null,concurrency:1,searchProgress:0,willTrainCount:0,threshold:80,maxResult:10,subjectCount:"",matches:[],queue:null}},components:{},setup(){return{}},mounted(){this.iniFaceJs(),this.countSubject()},methods:{async stopSearch(){console.log("here"),this.queue?.stop(),await this.sleep(100),this.reset()},searchPercent(){return 100*this.searchProgress/this.willTrainCount},async reset(){this.searching=!1,this.matches=[],this.queue=null,this.searchProgress=0,this.willTrainCount=0,this.countSubject()},openImage(e){window.open(e,"_blank","toolbar=1, scrollbars=1, resizable=1, width=1015, height=800")},async sleep(e){return new Promise((t=>setTimeout(t,e)))},async countSubject(){this.subjectCount=await oe()},async iniFaceJs(){await ae.dd(pe),await ae.W6(pe),await ae.Qk(pe)},selectFolder(){if(this.searching)return;const e=b()(this.$refs.input);this.eventInit||(this.listenChangeEvent(e),this.eventInit=!0),e.click()},listenChangeEvent(e){e.on("change",(()=>{const t=e[0].files[0];console.log(t),this.willTrainCount=this.subjectCount,console.log(this.willTrainCount,"willTrainCount"),this.searchFace(t)}))},finishSearch(){this.$vaToast.init("Recherche terminé"),this.queue?.stop(),console.log(this.matches)},getSubjectPhoto(e){try{return URL.createObjectURL(e.personFiles[0])}catch(t){console.log()}},async matchPerson(e,t,n){try{for(let n of e.faceDescription){let i=ae.WI(n.descriptor,t.descriptor);const a=100*(1-i);if(a>=this.threshold){e.score=a,this.matches.push(e);break}}}catch(i){console.log(i)}this.searchProgress++,n(),this.matches.length>=this.maxResult&&this.finishSearch()},async searchFace(e){this.queue=new he({autoStart:!0,concurrency:this.concurrency}),this.searchBlobUrl=URL.createObjectURL(new Blob([e],{type:e.type})),this.searching=!0,this.$vaToast.init("Recherche sur le point de démarrer"),console.log("start searching");const t=await ae.dV(e),n=await ae.bd(t).withFaceLandmarks().withFaceDescriptor(),i=[],a=await ce();for(let r of a)i.push(this.queue.pushTask((e=>{this.matchPerson(r,n,e)})));await Promise.all(i),this.finishSearch()}},computed:{}};const me=(0,_.Z)(ge,[["render",ie],["__scopeId","data-v-0666891a"]]);var fe=me,ve={name:"FaceSearchPage",components:{FaceSearchAttachmentComponent:fe}};const we=(0,_.Z)(ve,[["render",S]]);var ye=we,be=n.p+"img/face.10dda793.png";const xe=(0,a._)("img",{style:{width:"100px","margin-bottom":"5px"},src:be},null,-1);function _e(e,t,n,i,r,s){const o=(0,a.up)("FaceTrainAttachmentComponent");return(0,a.wg)(),(0,a.iD)(a.HY,null,[xe,(0,a.Wm)(o)],64)}const ke=e=>((0,a.dD)("data-v-62ed4384"),e=e(),(0,a.Cn)(),e),Ce={class:"container"},Fe=ke((()=>(0,a._)("div",{class:"hello"},"BioMetrex",-1))),Oe={style:{margin:"10px",_background:"#f9f9f9"},class:"dropzone-container"},Pe={key:0,style:{margin:"50px"}},Se={class:"components"},je=ke((()=>(0,a._)("div",{style:{height:"25px"}},null,-1))),Ve={class:"component",style:{}},Ue=ke((()=>(0,a._)("div",{style:{height:"25px"}},null,-1))),Te={class:"component",style:{}},Be=ke((()=>(0,a._)("div",{style:{height:"25px"}},null,-1))),We={class:"component",style:{}},Me={key:1,style:{margin:"50px"}},De={class:"components"},Ae={style:{display:"none"},ref:"input",multiple:"",directory:"",webkitdirectory:"",moxdirectory:"",type:"file"},ze={class:"file-selector"},Ie=ke((()=>(0,a._)("figure",null,[(0,a._)("svg",{width:"104px",height:"104px",viewBox:"0 0 104 104",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[(0,a._)("defs",null,[(0,a._)("circle",{id:"path-1",cx:"36",cy:"36",r:"36"}),(0,a._)("filter",{x:"-37.5%",y:"-29.2%",width:"175.0%",height:"175.0%",filterUnits:"objectBoundingBox",id:"filter-2"},[(0,a._)("feOffset",{dx:"0",dy:"6",in:"SourceAlpha",result:"shadowOffsetOuter1"}),(0,a._)("feGaussianBlur",{stdDeviation:"8",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),(0,a._)("feColorMatrix",{values:"0 0 0 0 0.0117647059   0 0 0 0 0.0862745098   0 0 0 0 0.160784314  0 0 0 0.08 0",type:"matrix",in:"shadowBlurOuter1",result:"shadowMatrixOuter1"}),(0,a._)("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter2"}),(0,a._)("feGaussianBlur",{stdDeviation:"1",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),(0,a._)("feColorMatrix",{values:"0 0 0 0 0.0117647059   0 0 0 0 0.0862745098   0 0 0 0 0.160784314  0 0 0 0.11 0",type:"matrix",in:"shadowBlurOuter2",result:"shadowMatrixOuter2"}),(0,a._)("feMerge",null,[(0,a._)("feMergeNode",{in:"shadowMatrixOuter1"}),(0,a._)("feMergeNode",{in:"shadowMatrixOuter2"})])])]),(0,a._)("g",{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[(0,a._)("g",{id:"Artboard",transform:"translate(-460.000000, -125.000000)"},[(0,a._)("g",{id:"Group-4",transform:"translate(412.000000, 129.000000)"},[(0,a._)("g",{id:"Group-2",transform:"translate(58.000000, 0.000000)"},[(0,a._)("circle",{id:"Oval",fill:"#3560FF",opacity:"0.100000001",cx:"42",cy:"42",r:"42"}),(0,a._)("g",{id:"Group",transform:"translate(6.000000, 6.000000)"},[(0,a._)("g",{id:"Oval"},[(0,a._)("use",{fill:"black","fill-opacity":"1",filter:"url(#filter-2)","xlink:href":"#path-1"}),(0,a._)("use",{fill:"#FFFFFF","fill-rule":"evenodd","xlink:href":"#path-1"})]),(0,a._)("g",{id:"upload-cloud",transform:"translate(21.818182, 24.000000)","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[(0,a._)("polyline",{id:"Path",stroke:"#000000",points:"19.6458087 17.3789847 14.3565525 12.0897285 9.06729634 17.3789847"}),(0,a._)("path",{d:"M14.3565525,12.0897285 L14.3565525,24.1794569",id:"Path",stroke:"#3560FF"}),(0,a._)("path",{d:"M25.6438239,20.7792208 C28.2965835,19.3021499 29.6312816,16.1761528 28.8860265,13.1856562 C28.1407715,10.1951596 25.5052337,8.10125672 22.4838689,8.09921935 L20.8179512,8.09921935 C19.7219904,3.76967373 16.1275086,0.577339516 11.7773112,0.0700384831 C7.42711383,-0.43726255 3.22057026,1.84535014 1.19724759,5.81113853 C-0.826075091,9.77692693 -0.247870665,14.6059952 2.6515151,17.9569414",id:"Path",stroke:"#3560FF"}),(0,a._)("polyline",{id:"Path",stroke:"#3560FF",points:"19.6458087 17.3789847 14.3565525 12.0897285 9.06729634 17.3789847"})])])])])])])])],-1))),Re=(0,a.Uk)(" Ajouter un dossier pour entrainer les modèles "),qe=ke((()=>(0,a._)("p",{class:"separator",style:{"margin-top":"10px","margin-bottom":"10px"}},[(0,a._)("span",{style:{visibility:"hidden"}},".")],-1))),Le=(0,a.Uk)((0,r.zw)("Choisir"));function $e(e,t,n,i,s,o){const l=(0,a.up)("va-alert"),c=(0,a.up)("va-input"),u=(0,a.up)("va-select"),d=(0,a.up)("va-progress-bar"),h=(0,a.up)("va-button");return(0,a.wg)(),(0,a.iD)("div",Ce,[Fe,(0,a._)("div",null,[(0,a._)("div",Oe,[s.traning?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Pe,[(0,a._)("div",Se,[(0,a._)("div",null,[(0,a.Wm)(l,{border:"top",class:"mb-4"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(s.subjectCount)+" Sujets déja enregistré ",1)])),_:1})]),je,(0,a._)("div",Ve,[(0,a.Wm)(c,{min:1,max:200,type:"number",modelValue:s.concurrency,"onUpdate:modelValue":t[0]||(t[0]=e=>s.concurrency=e),label:"Nombre de tache en simultané (1-200)"},null,8,["modelValue"])]),Ue,(0,a._)("div",Te,[(0,a.Wm)(c,{min:1,max:200,type:"number",modelValue:s.idSize,"onUpdate:modelValue":t[1]||(t[1]=e=>s.idSize=e),label:"Longueur des identifiants (1-200)"},null,8,["modelValue"])]),Be,(0,a._)("div",We,[(0,a.Wm)(u,{modelValue:s.strategySelectValue,"onUpdate:modelValue":t[2]||(t[2]=e=>s.strategySelectValue=e),options:s.strategyOptions,label:"Stratégie des données existantes"},null,8,["modelValue","options"])])])])),s.traning?((0,a.wg)(),(0,a.iD)("div",Me,[(0,a._)("div",De,[(0,a.Wm)(d,{size:"medium",buffer:100,"model-value":o.trainPercent()},null,8,["model-value"])])])):(0,a.kq)("",!0),(0,a._)("input",Ae,null,512),(0,a._)("div",{onClick:t[3]||(t[3]=(...e)=>o.selectFolder&&o.selectFolder(...e))},[(0,a._)("div",ze,[Ie,Re,qe,(0,a.Wm)(h,{disabled:s.traning,color:"primary",style:{width:"140px"}},{default:(0,a.w5)((()=>[Le])),_:1},8,["disabled"])])])])])])}const Ge=n(3233),Ne="/models";var Ee={name:"FaceTrainAttachmentComponent",data(){return{$directory:"",eventInit:!1,traning:!1,concurrency:1,trainProgress:0,willTrainCount:0,idSize:36,subjectCount:"",strategySelectValue:{text:"Écraser",value:"override"},strategyOptions:[{text:"Écraser",value:"override"},{text:"Fusionner",value:"merge"}]}},components:{},setup(){return{}},mounted(){this.iniFaceJs(),this.countSubject()},methods:{trainPercent(){return 100*this.trainProgress/this.willTrainCount},async reset(){this.traning=!1,this.trainProgress=0,this.willTrainCount=0,this.countSubject()},async sleep(e){return new Promise((t=>setTimeout(t,e)))},async countSubject(){this.subjectCount=await oe()},async iniFaceJs(){await ae.dd(Ne),await ae.W6(Ne),await ae.Qk(Ne)},selectFolder(){if(this.traning)return this.$vaToast.init("Une tache est deja en cours");const e=b()(this.$refs.input);this.eventInit||(this.listenChangeEvent(e),this.eventInit=!0),e.click()},groupFilePerId(e){const t={};for(let n of e){const e=n.name.substring(0,this.idSize);t[e]=t[e]||[],t[e].push(n)}return t},listenChangeEvent(e){e.on("change",(()=>{const t=Array.from(e[0].files).filter((e=>e.type.includes("image")));this.willTrainCount=t.length,console.log(this.willTrainCount,"willTrainCount");const n=this.groupFilePerId(t);this.trainData(n)}))},async trainSingleFace(e,t,n){try{const i=await ae.dV(t),a=await ae.bd(i).withFaceLandmarks().withFaceDescriptor();if(!a)return console.log(`no faces detected for in image ${t.name}`),this.trainProgress++,void n();const r=a;return console.log(this.trainProgress,this.willTrainCount),ue(e,r),this.trainProgress++,n(),r}catch(i){console.log(i),n()}},async trainData(e){"override"===this.strategySelectValue.value&&await le();const t=new Ge({autoStart:!0,concurrency:this.concurrency});this.traning=!0,console.log("start training"),this.$vaToast.init("Entrainement sur le point de démarrer");const n=[];for(let a of Object.keys(e))n.push(t.pushTask((async t=>{try{const i=e[a];await de(a,i,this.strategySelectValue.value);for(let e of i)n.push(this.trainSingleFace(a,e,t))}catch(i){console.log(i),t()}})));const i=(await Promise.all(n)).filter((e=>e));this.traning=!1,t.stop(),this.reset(),console.log(i,"resultsTrain"),this.$vaToast.init("Tache terminée")}},computed:{}};const Ze=(0,_.Z)(Ee,[["render",$e],["__scopeId","data-v-62ed4384"]]);var He=Ze,Ye={name:"FaceTrainPage",components:{FaceTrainAttachmentComponent:He}};const Ke=(0,_.Z)(Ye,[["render",_e]]);var Je=Ke,Qe=n.p+"img/fingerprint.eb11c4b3.png";const Xe=(0,a._)("img",{style:{width:"100px","margin-bottom":"5px"},src:Qe},null,-1);function et(e,t,n,i,r,s){const o=(0,a.up)("FingerTrainAttachmentComponent");return(0,a.wg)(),(0,a.iD)(a.HY,null,[Xe,(0,a.Wm)(o)],64)}const tt=e=>((0,a.dD)("data-v-2fa7823c"),e=e(),(0,a.Cn)(),e),nt={class:"container"},it=tt((()=>(0,a._)("div",{class:"hello"},"BioMetrex",-1))),at={style:{margin:"10px",_background:"#f9f9f9"},class:"dropzone-container"},rt={key:0,style:{margin:"50px"}},st={class:"components"},ot=tt((()=>(0,a._)("div",{style:{height:"25px"}},null,-1))),lt={class:"component",style:{}},ct=tt((()=>(0,a._)("div",{style:{height:"25px"}},null,-1))),ut={class:"component",style:{}},dt=tt((()=>(0,a._)("div",{style:{height:"25px"}},null,-1))),ht={class:"component",style:{}},pt=tt((()=>(0,a._)("div",{style:{height:"25px"}},null,-1))),gt={class:"component",style:{}},mt={key:1,style:{margin:"50px"}},ft={class:"components"},vt={style:{display:"none"},ref:"input",multiple:"",directory:"",webkitdirectory:"",moxdirectory:"",type:"file"},wt={class:"file-selector"},yt=tt((()=>(0,a._)("figure",null,[(0,a._)("svg",{width:"104px",height:"104px",viewBox:"0 0 104 104",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[(0,a._)("defs",null,[(0,a._)("circle",{id:"path-1",cx:"36",cy:"36",r:"36"}),(0,a._)("filter",{x:"-37.5%",y:"-29.2%",width:"175.0%",height:"175.0%",filterUnits:"objectBoundingBox",id:"filter-2"},[(0,a._)("feOffset",{dx:"0",dy:"6",in:"SourceAlpha",result:"shadowOffsetOuter1"}),(0,a._)("feGaussianBlur",{stdDeviation:"8",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),(0,a._)("feColorMatrix",{values:"0 0 0 0 0.0117647059   0 0 0 0 0.0862745098   0 0 0 0 0.160784314  0 0 0 0.08 0",type:"matrix",in:"shadowBlurOuter1",result:"shadowMatrixOuter1"}),(0,a._)("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter2"}),(0,a._)("feGaussianBlur",{stdDeviation:"1",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),(0,a._)("feColorMatrix",{values:"0 0 0 0 0.0117647059   0 0 0 0 0.0862745098   0 0 0 0 0.160784314  0 0 0 0.11 0",type:"matrix",in:"shadowBlurOuter2",result:"shadowMatrixOuter2"}),(0,a._)("feMerge",null,[(0,a._)("feMergeNode",{in:"shadowMatrixOuter1"}),(0,a._)("feMergeNode",{in:"shadowMatrixOuter2"})])])]),(0,a._)("g",{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[(0,a._)("g",{id:"Artboard",transform:"translate(-460.000000, -125.000000)"},[(0,a._)("g",{id:"Group-4",transform:"translate(412.000000, 129.000000)"},[(0,a._)("g",{id:"Group-2",transform:"translate(58.000000, 0.000000)"},[(0,a._)("circle",{id:"Oval",fill:"#3560FF",opacity:"0.100000001",cx:"42",cy:"42",r:"42"}),(0,a._)("g",{id:"Group",transform:"translate(6.000000, 6.000000)"},[(0,a._)("g",{id:"Oval"},[(0,a._)("use",{fill:"black","fill-opacity":"1",filter:"url(#filter-2)","xlink:href":"#path-1"}),(0,a._)("use",{fill:"#FFFFFF","fill-rule":"evenodd","xlink:href":"#path-1"})]),(0,a._)("g",{id:"upload-cloud",transform:"translate(21.818182, 24.000000)","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[(0,a._)("polyline",{id:"Path",stroke:"#000000",points:"19.6458087 17.3789847 14.3565525 12.0897285 9.06729634 17.3789847"}),(0,a._)("path",{d:"M14.3565525,12.0897285 L14.3565525,24.1794569",id:"Path",stroke:"#3560FF"}),(0,a._)("path",{d:"M25.6438239,20.7792208 C28.2965835,19.3021499 29.6312816,16.1761528 28.8860265,13.1856562 C28.1407715,10.1951596 25.5052337,8.10125672 22.4838689,8.09921935 L20.8179512,8.09921935 C19.7219904,3.76967373 16.1275086,0.577339516 11.7773112,0.0700384831 C7.42711383,-0.43726255 3.22057026,1.84535014 1.19724759,5.81113853 C-0.826075091,9.77692693 -0.247870665,14.6059952 2.6515151,17.9569414",id:"Path",stroke:"#3560FF"}),(0,a._)("polyline",{id:"Path",stroke:"#3560FF",points:"19.6458087 17.3789847 14.3565525 12.0897285 9.06729634 17.3789847"})])])])])])])])],-1))),bt=(0,a.Uk)(" Ajouter un dossier pour entrainer les modèles "),xt=tt((()=>(0,a._)("p",{class:"separator",style:{"margin-top":"10px","margin-bottom":"10px"}},[(0,a._)("span",{style:{visibility:"hidden"}},".")],-1))),_t=(0,a.Uk)((0,r.zw)("Choisir"));function kt(e,t,n,i,s,o){const l=(0,a.up)("va-alert"),c=(0,a.up)("va-input"),u=(0,a.up)("va-select"),d=(0,a.up)("va-progress-bar"),h=(0,a.up)("va-button");return(0,a.wg)(),(0,a.iD)("div",nt,[it,(0,a._)("div",null,[(0,a._)("div",at,[s.traning?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",rt,[(0,a._)("div",st,[(0,a._)("div",null,[(0,a.Wm)(l,{border:"top",class:"mb-4"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(s.subjectCount)+" Sujets déja enregistré ",1)])),_:1})]),ot,(0,a._)("div",lt,[(0,a.Wm)(c,{min:1,max:200,type:"number",modelValue:s.concurrency,"onUpdate:modelValue":t[0]||(t[0]=e=>s.concurrency=e),label:"Nombre de tache en simultané (1-200)"},null,8,["modelValue"])]),ct,(0,a._)("div",ut,[(0,a.Wm)(c,{min:1,max:200,type:"number",modelValue:s.idSize,"onUpdate:modelValue":t[1]||(t[1]=e=>s.idSize=e),label:"Longueur des identifiants (1-200)"},null,8,["modelValue"])]),dt,(0,a._)("div",ht,[(0,a.Wm)(c,{min:1,max:1e3,type:"number",modelValue:s.dpi,"onUpdate:modelValue":t[2]||(t[2]=e=>s.dpi=e),label:"Dpi Images"},null,8,["modelValue"])]),pt,(0,a._)("div",gt,[(0,a.Wm)(u,{modelValue:s.strategySelectValue,"onUpdate:modelValue":t[3]||(t[3]=e=>s.strategySelectValue=e),options:s.strategyOptions,label:"Stratégie des données existantes"},null,8,["modelValue","options"])])])])),s.traning?((0,a.wg)(),(0,a.iD)("div",mt,[(0,a._)("div",ft,[(0,a.Wm)(d,{size:"medium",buffer:100,"model-value":o.trainPercent()},null,8,["model-value"])])])):(0,a.kq)("",!0),(0,a._)("input",vt,null,512),(0,a._)("div",{onClick:t[4]||(t[4]=(...e)=>o.selectFolder&&o.selectFolder(...e))},[(0,a._)("div",wt,[yt,bt,xt,(0,a.Wm)(h,{disabled:s.traning,color:"primary",style:{width:"140px"}},{default:(0,a.w5)((()=>[_t])),_:1},8,["disabled"])])])])])])}n(2801),n(8675),n(3462),n(7380),n(1118);const Ct=new re.ZP("biometrex_fingerprint");async function Ft(){return await Ct.subjects.count()}async function Ot(){await Ct.subjects.clear(),console.log("delete existing")}async function Pt(){return Ct.table("subjects").toArray()}async function St(e,t){const n=await Ct.subjects.where("key").equals(e).first();n?(console.log("save fingerprint for subject",t),await Ct.subjects.update(n.id,{fingerprintDescription:n.fingerprintDescription.concat(t)})):console.warn("try to set fingerprint data to unexisted record")}async function jt(e,t,n){console.log("init for ",e,n);const i=await Ct.subjects.where("key").equals(e).first(),a=t.map((e=>new Blob([e],{type:e.type})));i&&"override"!==n?(console.log("exist, strategy",n,i),await Ct.subjects.update(i.id,{personFiles:i.personFiles.concat(a)})):(i&&(console.log("exist, strategy",n,i),await Ct.subjects.where("key").equals(e).delete(),console.log("delete existing")),console.log("no exist, strategy"),await Ct.subjects.add({key:e,personFiles:a,fingerprintDescription:[]}),console.log("added"))}Ct.version(1).stores({subjects:"++id, key"});const Vt=n(3233);var Ut={name:"FingerPrintTrainAttachmentComponent",data(){return{$directory:"",eventInit:!1,traning:!1,concurrency:1,trainProgress:0,willTrainCount:0,idSize:36,dpi:300,subjectCount:"",strategySelectValue:{text:"Écraser",value:"override"},strategyOptions:[{text:"Écraser",value:"override"},{text:"Fusionner",value:"merge"}]}},components:{},setup(){return{}},mounted(){this.countSubject()},methods:{trainPercent(){return 100*this.trainProgress/this.willTrainCount},async reset(){this.traning=!1,this.trainProgress=0,this.willTrainCount=0,this.countSubject()},async sleep(e){return new Promise((t=>setTimeout(t,e)))},async countSubject(){this.subjectCount=await Ft()},selectFolder(){if(this.traning)return this.$vaToast.init("Une tache est deja en cours");const e=b()(this.$refs.input);this.eventInit||(this.listenChangeEvent(e),this.eventInit=!0),e.click()},groupFilePerId(e){const t={};for(let n of e){const e=n.name.substring(0,this.idSize);t[e]=t[e]||[],t[e].push(n)}return t},listenChangeEvent(e){e.on("change",(()=>{const t=Array.from(e[0].files).filter((e=>e.type.includes("image")));console.log(t),this.willTrainCount=t.length,console.log(this.willTrainCount,"willTrainCount");const n=this.groupFilePerId(t);this.trainData(n)}))},blobToBase64(e){return new Promise((t=>{const n=new FileReader;n.onloadend=()=>t(n.result),n.readAsDataURL(e)}))},async trainSingleFingerPrint(e,t,n){try{const i=await this.blobToBase64(new Blob([t],{type:t.type})),a=await this.getBridge().trainSingleFingerPrint(t.name,i,this.dpi);if(!a)return console.log(`no faces detected for in image ${t.name}`),this.trainProgress++,void n();let r=window.atob(a);const s=new Uint8Array(r.length);for(let e=0;e<r.length;e++)s[e]=r.charCodeAt(e);const o=new Blob([s]);return console.log(o),console.log(this.trainProgress,this.willTrainCount),St(e,o).then(),this.trainProgress++,n(),r}catch(i){console.log(i),n()}},getBridge(){try{return window.chrome.webview.hostObjects.fingerprint_bridge}catch(e){console.log(e)}},async trainData(e){"override"===this.strategySelectValue.value&&await Ot();const t=new Vt({autoStart:!0,concurrency:this.concurrency});this.traning=!0,console.log("start training"),this.$vaToast.init("Entrainement sur le point de démarrer");const n=[];for(let a of Object.keys(e))n.push(t.pushTask((async t=>{try{const i=e[a];await jt(a,i,this.strategySelectValue.value);for(let e of i)n.push(this.trainSingleFingerPrint(a,e,t))}catch(i){console.log(i),t()}})));const i=(await Promise.all(n)).filter((e=>e));this.traning=!1,t.stop(),this.reset(),console.log(i,"resultsTrain"),this.$vaToast.init("Tache terminée")}},computed:{}};const Tt=(0,_.Z)(Ut,[["render",kt],["__scopeId","data-v-2fa7823c"]]);var Bt=Tt,Wt={name:"FingerTrainPage",components:{FingerTrainAttachmentComponent:Bt}};const Mt=(0,_.Z)(Wt,[["render",et]]);var Dt=Mt,At=n.p+"img/fingerprint2.d85d9ae5.png";const zt=(0,a._)("img",{style:{width:"100px","margin-bottom":"5px"},src:At},null,-1);function It(e,t,n,i,r,s){const o=(0,a.up)("FingerPrintSearchAttachmentComponent");return(0,a.wg)(),(0,a.iD)(a.HY,null,[zt,(0,a.Wm)(o)],64)}const Rt=e=>((0,a.dD)("data-v-0875e4f4"),e=e(),(0,a.Cn)(),e),qt={class:"container"},Lt=Rt((()=>(0,a._)("div",{class:"hello"},"BioMetrex",-1))),$t={style:{margin:"10px",_background:"#f9f9f9"},class:"dropzone-container"},Gt={key:0,style:{margin:"50px"}},Nt={class:"components"},Et=Rt((()=>(0,a._)("div",{style:{height:"25px"}},null,-1))),Zt={class:"component",style:{}},Ht=Rt((()=>(0,a._)("div",{style:{height:"25px"}},null,-1))),Yt={class:"component",style:{}},Kt=Rt((()=>(0,a._)("div",{style:{height:"25px"}},null,-1))),Jt={class:"component",style:{}},Qt=Rt((()=>(0,a._)("div",{style:{height:"25px"}},null,-1))),Xt={class:"component",style:{}},en=Rt((()=>(0,a._)("div",{style:{height:"25px"}},null,-1))),tn={class:"component",style:{}},nn=Rt((()=>(0,a._)("div",{style:{height:"25px"}},null,-1))),an={class:"component",style:{}},rn=Rt((()=>(0,a._)("div",{style:{height:"25px"}},null,-1))),sn={key:1,style:{margin:"50px"}},on={class:"components"},ln={key:2,style:{margin:"50px"}},cn=["src"],un={accept:"image/png, image/jpeg",style:{display:"none"},ref:"input",type:"file"},dn={class:"file-selector"},hn=["src"],pn={key:1,width:"104px",height:"104px",viewBox:"0 0 104 104",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},gn=(0,a.uE)('<defs data-v-0875e4f4><circle id="path-1" cx="36" cy="36" r="36" data-v-0875e4f4></circle><filter x="-37.5%" y="-29.2%" width="175.0%" height="175.0%" filterUnits="objectBoundingBox" id="filter-2" data-v-0875e4f4><feOffset dx="0" dy="6" in="SourceAlpha" result="shadowOffsetOuter1" data-v-0875e4f4></feOffset><feGaussianBlur stdDeviation="8" in="shadowOffsetOuter1" result="shadowBlurOuter1" data-v-0875e4f4></feGaussianBlur><feColorMatrix values="0 0 0 0 0.0117647059   0 0 0 0 0.0862745098   0 0 0 0 0.160784314  0 0 0 0.08 0" type="matrix" in="shadowBlurOuter1" result="shadowMatrixOuter1" data-v-0875e4f4></feColorMatrix><feOffset dx="0" dy="1" in="SourceAlpha" result="shadowOffsetOuter2" data-v-0875e4f4></feOffset><feGaussianBlur stdDeviation="1" in="shadowOffsetOuter2" result="shadowBlurOuter2" data-v-0875e4f4></feGaussianBlur><feColorMatrix values="0 0 0 0 0.0117647059   0 0 0 0 0.0862745098   0 0 0 0 0.160784314  0 0 0 0.11 0" type="matrix" in="shadowBlurOuter2" result="shadowMatrixOuter2" data-v-0875e4f4></feColorMatrix><feMerge data-v-0875e4f4><feMergeNode in="shadowMatrixOuter1" data-v-0875e4f4></feMergeNode><feMergeNode in="shadowMatrixOuter2" data-v-0875e4f4></feMergeNode></feMerge></filter></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-0875e4f4><g id="Artboard" transform="translate(-460.000000, -125.000000)" data-v-0875e4f4><g id="Group-4" transform="translate(412.000000, 129.000000)" data-v-0875e4f4><g id="Group-2" transform="translate(58.000000, 0.000000)" data-v-0875e4f4><circle id="Oval" fill="#3560FF" opacity="0.100000001" cx="42" cy="42" r="42" data-v-0875e4f4></circle><g id="Group" transform="translate(6.000000, 6.000000)" data-v-0875e4f4><g id="Oval" data-v-0875e4f4><use fill="black" fill-opacity="1" filter="url(#filter-2)" xlink:href="#path-1" data-v-0875e4f4></use><use fill="#FFFFFF" fill-rule="evenodd" xlink:href="#path-1" data-v-0875e4f4></use></g><g id="upload-cloud" transform="translate(21.818182, 24.000000)" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" data-v-0875e4f4><polyline id="Path" stroke="#000000" points="19.6458087 17.3789847 14.3565525 12.0897285 9.06729634 17.3789847" data-v-0875e4f4></polyline><path d="M14.3565525,12.0897285 L14.3565525,24.1794569" id="Path" stroke="#3560FF" data-v-0875e4f4></path><path d="M25.6438239,20.7792208 C28.2965835,19.3021499 29.6312816,16.1761528 28.8860265,13.1856562 C28.1407715,10.1951596 25.5052337,8.10125672 22.4838689,8.09921935 L20.8179512,8.09921935 C19.7219904,3.76967373 16.1275086,0.577339516 11.7773112,0.0700384831 C7.42711383,-0.43726255 3.22057026,1.84535014 1.19724759,5.81113853 C-0.826075091,9.77692693 -0.247870665,14.6059952 2.6515151,17.9569414" id="Path" stroke="#3560FF" data-v-0875e4f4></path><polyline id="Path" stroke="#3560FF" points="19.6458087 17.3789847 14.3565525 12.0897285 9.06729634 17.3789847" data-v-0875e4f4></polyline></g></g></g></g></g></g>',2),mn=[gn],fn=(0,a.Uk)(" Ajouter une image pour démarer la recherche "),vn=Rt((()=>(0,a._)("p",{class:"separator",style:{"margin-top":"10px","margin-bottom":"10px"}},[(0,a._)("span",{style:{visibility:"hidden"}},".")],-1))),wn=(0,a.Uk)((0,r.zw)("Choisir")),yn=Rt((()=>(0,a._)("span",{style:{display:"inline-block",width:"5px"}},null,-1))),bn=(0,a.Uk)((0,r.zw)("Arreter"));function xn(e,t,n,i,s,o){const l=(0,a.up)("va-alert"),c=(0,a.up)("va-input"),u=(0,a.up)("va-select"),d=(0,a.up)("va-progress-bar"),h=(0,a.up)("va-list-label"),p=(0,a.up)("va-avatar"),g=(0,a.up)("va-list-item-section"),m=(0,a.up)("va-list-item-label"),f=(0,a.up)("va-icon"),v=(0,a.up)("va-list-item"),w=(0,a.up)("va-list"),y=(0,a.up)("va-button");return(0,a.wg)(),(0,a.iD)("div",qt,[Lt,(0,a._)("div",null,[(0,a._)("div",$t,[s.searching?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Gt,[(0,a._)("div",Nt,[(0,a._)("div",null,[(0,a.Wm)(l,{border:"top",class:"mb-4"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Recherche dans la base "+(0,r.zw)(s.subjectCount)+" sujets déja enregistré ",1)])),_:1})]),Et,(0,a._)("div",Zt,[(0,a.Wm)(c,{min:1,max:200,type:"number",modelValue:s.concurrency,"onUpdate:modelValue":t[0]||(t[0]=e=>s.concurrency=e),label:"Nombre de tache en simultané (1-200)"},null,8,["modelValue"])]),Ht,(0,a._)("div",Yt,[(0,a.Wm)(u,{modelValue:s.sourceSelectValue,"onUpdate:modelValue":t[1]||(t[1]=e=>s.sourceSelectValue=e),options:s.sourceOptions,label:"Source"},null,8,["modelValue","options"])]),Kt,(0,a._)("div",Jt,[(0,a.Wm)(u,{modelValue:s.selectedCaptureMode,"onUpdate:modelValue":t[2]||(t[2]=e=>s.selectedCaptureMode=e),options:s.captureOptions,label:"Mode de capture"},null,8,["modelValue","options"])]),Qt,(0,a._)("div",Xt,[(0,a.Wm)(c,{min:5,max:100,type:"number",modelValue:s.threshold,"onUpdate:modelValue":t[3]||(t[3]=e=>s.threshold=e),label:"Score minimum à matcher (5)"},null,8,["modelValue"])]),en,(0,a._)("div",tn,[(0,a.Wm)(c,{min:1,max:1e3,type:"number",modelValue:s.dpi,"onUpdate:modelValue":t[4]||(t[4]=e=>s.dpi=e),label:"Dpi Images"},null,8,["modelValue"])]),nn,(0,a._)("div",an,[(0,a.Wm)(c,{min:1,max:100,type:"number",modelValue:s.maxResult,"onUpdate:modelValue":t[5]||(t[5]=e=>s.maxResult=e),label:"Nombre maximum de sujet à matcher  (1-100)"},null,8,["modelValue"])]),rn])])),s.searching?((0,a.wg)(),(0,a.iD)("div",sn,[(0,a._)("div",on,[(0,a.Wm)(d,{size:"medium",buffer:100,"model-value":o.searchPercent()},null,8,["model-value"])])])):(0,a.kq)("",!0),s.matches.length?((0,a.wg)(),(0,a.iD)("div",ln,[(0,a.Wm)(w,{fit:""},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{style:{"text-align":"left","font-size":"25px"}},{default:(0,a.w5)((()=>[(0,a.Uk)(" Concordances ("+(0,r.zw)(s.matches.length)+") ",1)])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.matches,((e,t)=>((0,a.wg)(),(0,a.j4)(v,{key:t},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a._)("img",{src:o.getSubjectPhoto(e)},null,8,cn)])),_:2},1024)])),_:2},1024),(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,{style:{"text-align":"left"}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e.key.toUpperCase()),1)])),_:2},1024),(0,a.Wm)(m,{caption:"",style:{"font-weight":"bold","text-align":"left"}},{default:(0,a.w5)((()=>[(0,a.Uk)(" score: "+(0,r.zw)(e.score.toFixed(2)),1)])),_:2},1024)])),_:2},1024),(0,a.Wm)(g,{icon:""},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{onClick:t=>o.openImage(o.getSubjectPhoto(e)),name:"remove_red_eye",color:"gray"},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])):(0,a.kq)("",!0),(0,a._)("input",un,null,512),(0,a._)("div",{onClick:t[7]||(t[7]=(...e)=>o.selectFolder&&o.selectFolder(...e))},[(0,a._)("div",dn,[(0,a._)("figure",null,[s.searching?((0,a.wg)(),(0,a.iD)("img",{key:0,style:{"border-radius":"80px",border:"4px solid #e2e7f7",margin:"20px",width:"120px",height:"120px"},src:s.searchBlobUrl},null,8,hn)):(0,a.kq)("",!0),s.searching?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("svg",pn,mn))]),fn,vn,(0,a.Wm)(y,{disabled:s.searching,color:"primary",style:{width:"140px"}},{default:(0,a.w5)((()=>[wn])),_:1},8,["disabled"]),yn,(0,a.Wm)(y,{onClick:t[6]||(t[6]=e=>o.stopSearch()),disabled:!s.searching,color:"primary",style:{width:"140px"}},{default:(0,a.w5)((()=>[bn])),_:1},8,["disabled"])])])])])])}const _n=n(3233);var kn={name:"FingerPrintSearchAttachmentComponent",data(){return{$directory:"",eventInit:!1,searching:!1,searchBlobUrl:null,concurrency:1,searchProgress:0,willTrainCount:0,dpi:300,threshold:80,maxResult:10,subjectCount:"",matches:[],queue:null,sourceSelectValue:{text:"Lecteur externe",value:"device"},sourceOptions:[{text:"Cet ordinateur",value:"pc"},{text:"Lecteur externe",value:"device"}],selectedCaptureMode:{text:"Un doit flat",value:2},captureOptions:[{text:"Un doit plat",value:2},{text:"Un doit roulé",value:1}]}},components:{},setup(){return{}},mounted(){this.countSubject()},methods:{getBridge(){try{return window.chrome.webview.hostObjects.fingerprint_bridge}catch(e){console.log(e)}},async stopSearch(){console.log("here"),this.queue?.stop(),await this.sleep(100),this.reset()},searchPercent(){return 100*this.searchProgress/this.willTrainCount},async reset(){this.searching=!1,this.matches=[],this.queue=null,this.searchProgress=0,this.willTrainCount=0,this.countSubject()},openImage(e){window.open(e,"_blank","toolbar=1, scrollbars=1, resizable=1, width=1015, height=800")},async sleep(e){return new Promise((t=>setTimeout(t,e)))},async countSubject(){this.subjectCount=await Ft()},async selectFolder(){if(!this.searching)if("pc"===this.sourceSelectValue.value){const e=b()(this.$refs.input);this.eventInit||(this.listenChangeEvent(e),this.eventInit=!0),e.click()}else{this.getBridge().startRead(parseInt(this.selectedCaptureMode.value));const e=t=>{window.removeEventListener("scan",e);const n=t.detail;if(console.log("scan ok"),console.log(n.success),console.log(n.fileName),n.success){this.willTrainCount=this.subjectCount,console.log(this.willTrainCount,"willTrainCount");let e=window.atob(n.result);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);const i=new Blob([t],{type:"image/jpeg"}),a=new File([i],n.fileName);this.searchFingerPrint(a).then()}else this.$vaToast.init({message:"Impossible de lire un empreinte",color:"danger",duration:7e7})};window.addEventListener("scan",e)}},listenChangeEvent(e){e.on("change",(()=>{const t=e[0].files[0];console.log(t),this.willTrainCount=this.subjectCount,console.log(this.willTrainCount,"willTrainCount"),this.searchFingerPrint(t)}))},finishSearch(){this.$vaToast.init("Recherche terminé"),this.queue?.stop(),console.log(this.matches)},getSubjectPhoto(e){try{return URL.createObjectURL(e.personFiles[0])}catch(t){console.log()}},blobToBase64(e){return new Promise((t=>{const n=new FileReader;n.onloadend=()=>t(n.result),n.readAsDataURL(e)}))},async matchPerson(e,t,n,i){try{console.log("start match person",e);for(let i of e.fingerprintDescription){console.log("matching descriptor");const a=await this.blobToBase64(i),r=await this.getBridge().matchFingerScore(n,t,this.dpi,a);if(console.log("score",r),r>=this.threshold){e.score=r,this.matches.push(e);break}}}catch(a){console.log(a)}this.searchProgress++,i(),this.matches.length>=this.maxResult&&this.finishSearch()},async searchFingerPrint(e){this.queue=new _n({autoStart:!0,concurrency:this.concurrency}),this.searchBlobUrl=URL.createObjectURL(new Blob([e],{type:e.type})),this.searching=!0,this.$vaToast.init("Recherche sur le point de démarrer"),console.log("start searching");const t=[],n=await Pt(),i=await this.blobToBase64(new Blob([e],{type:e.type}));for(let a of n)t.push(this.queue.pushTask((t=>{this.matchPerson(a,i,e.name,t)})));await Promise.all(t),this.finishSearch()}},computed:{}};const Cn=(0,_.Z)(kn,[["render",xn],["__scopeId","data-v-0875e4f4"]]);var Fn=Cn,On={name:"FingerPrintSearchPage",components:{FingerPrintSearchAttachmentComponent:Fn}};const Pn=(0,_.Z)(On,[["render",It]]);var Sn=Pn;const jn=[{path:"/",redirect:"/face-search"},{path:"/face-search",name:"FaceSearchPage",component:ye},{path:"/face-train",name:"FaceTrainPage",component:Je},{path:"/fingerprint-search",name:"FingerPrintSearchPage",component:Sn},{path:"/fingerprint-train",name:"FingerPrintTrainPage",component:Dt}],Vn=(0,F.p7)({history:(0,F.PO)(),routes:jn});var Un=Vn,Tn=n(4954);n(2095);(0,i.ri)(C).use(Un).use((0,Tn.C)()).mount("#app")},4902:function(){},522:function(){},753:function(){}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,i,a,r){if(!i){var s=1/0;for(u=0;u<e.length;u++){i=e[u][0],a=e[u][1],r=e[u][2];for(var o=!0,l=0;l<i.length;l++)(!1&r||s>=r)&&Object.keys(n.O).every((function(e){return n.O[e](i[l])}))?i.splice(l--,1):(o=!1,r<s&&(s=r));if(o){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[i,a,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,r,s=i[0],o=i[1],l=i[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)var u=l(n)}for(t&&t(i);c<s.length;c++)r=s[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(u)},i=self["webpackChunkbiometrex"]=self["webpackChunkbiometrex"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(7051)}));i=n.O(i)})();
//# sourceMappingURL=app.2bc0f3f4.js.map